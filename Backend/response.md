# <p align="center">Ticket Management Portal</p>

<p align="center">
  <a href="https://shields.io/badge/Python-3.9+-blue.svg?style=flat-square"><img src="https://shields.io/badge/Python-3.9+-blue.svg?style=flat-square" alt="Python Version"></a>
  <a href="https://shields.io/badge/FastAPI-0.70+-blueviolet?style=flat-square"><img src="https://shields.io/badge/FastAPI-0.70+-blueviolet?style=flat-square" alt="FastAPI Version"></a>
  <a href="https://shields.io/badge/MongoDB-4.4+-green?style=flat-square"><img src="https://shields.io/badge/MongoDB-4.4+-green?style=flat-square" alt="MongoDB Version"></a>
  <a href="https://shields.io/badge/LangChain-0.0.148+-orange?style=flat-square"><img src="https://shields.io/badge/LangChain-0.0.148+-orange?style=flat-square" alt="LangChain Version"></a>
  <a href="https://shields.io/badge/React-17.0+-blue.svg?style=flat-square"><img src="https://shields.io/badge/React-17.0+-blue.svg?style=flat-square" alt="React Version"></a>
  <a href="https://shields.io/badge/Tailwind_CSS-2.0+-blue?style=flat-square"><img src="https://shields.io/badge/Tailwind_CSS-2.0+-blue?style=flat-square" alt="Tailwind CSS Version"></a>
  <a href="https://shields.io/badge/Auth0-v3+-blue?style=flat-square"><img src="https://shields.io/badge/Auth0-v3+-blue?style=flat-square" alt="Auth0 Version"></a>
</p>

## Introduction

This project is a comprehensive ticket submission and management portal designed for internal use within a software development organization. It allows users to submit tickets, automatically routes them to the appropriate development teams using a Langchain-powered chatbot, and provides role-based access control for managing ticket status. The portal utilizes a React frontend and a FastAPI backend with MongoDB for data storage, and Auth0 for authentication and authorization.

## Table of Contents

1.  [Key Features](#key-features)
2.  [Installation Guide](#installation-guide)
3.  [Usage](#usage)
4.  [Environment Variables](#environment-variables)
5.  [Project Structure](#project-structure)
6.  [Technologies Used](#technologies-used)
7.  [Contribution Guide](#contribution-guide)
8.  [Support & Contact](#support--contact)
9.  [License](#license)

## Key Features

*   **Ticket Submission:** Users can submit new tickets via a React-based form in the frontend.
*   **Automated Ticket Routing:** A Langchain-powered chatbot intelligently routes tickets to the correct development team (React, Java, Python, or SQL) based on the ticket content.
*   **Role-Based Access Control:** Auth0 integration provides secure authentication and authorization, restricting access to features based on user roles (admin, user, developer).
*   **Detailed Ticket Views:** Comprehensive ticket details are displayed, including the original request, summary, technical analysis, suggested approach, and additional notes generated by the chatbot agents.
*   **API Endpoints for Ticket Management:** FastAPI backend provides endpoints for creating, retrieving, closing, and listing tickets.
*   **Data Validation:** Pydantic models enforce data types and validation rules for API requests and responses.
*   **JSON serialization:** Backend endpoints return JSON serialized ticket data for frontend use.
*   **Web Vitals Reporting:** Web vitals reporting for performance monitoring.
*   **Ticket triaging and documentation**: Python and SQL agents help triage and document tickets using LLMs

## Installation Guide

1.  **Clone the repository:**

    ```bash
    git clone <repository_url>
    ```

2.  **Navigate to the `Backend` directory:**

    ```bash
    cd Backend
    ```

3.  **Create a virtual environment (optional but recommended):**

    ```bash
    python3 -m venv venv
    source venv/bin/activate  # On Linux/macOS
    venv\Scripts\activate  # On Windows
    ```

4.  **Install backend dependencies:**

    ```bash
    pip install -r requirements.txt
    ```

5.  **Navigate to the `frontend` directory:**

    ```bash
    cd ../frontend
    ```

6.  **Install frontend dependencies:**

    ```bash
    npm install
    ```

7.  **Create `.env` files in both `Backend` and `frontend` directories and configure the necessary environment variables (see [Environment Variables](#environment-variables) section).**

8.  **Run the FastAPI backend:**

    ```bash
    cd ../Backend
    uvicorn main:app --reload
    ```

9.  **Run the React frontend:**

    ```bash
    cd ../frontend
    npm start
    ```

## Usage

*   **Frontend:** Access the React frontend in your browser (usually `http://localhost:3000`).  Login using your Auth0 credentials. Based on your role, you'll be redirected to the appropriate dashboard. You can then submit tickets, view ticket details, and manage ticket status (depending on your role).
*   **Backend:** The FastAPI backend provides REST API endpoints for managing tickets. These endpoints are used by the frontend to perform various operations.  Consult the API documentation (once implemented, or examine `Backend/Database/routes/route.py`) for available endpoints and request/response formats.

## Environment Variables

**Backend (`Backend/.env`):**

*   `MONGODB_URI`: The URI for connecting to your MongoDB database.
*   `AUTH0_DOMAIN`: Your Auth0 domain.
*   `AUTH0_CLIENT_ID`: Your Auth0 client ID.
*   `AUTH0_CLIENT_SECRET`: Your Auth0 client secret.
*   `AUTH0_AUDIENCE`: Your Auth0 API audience.
*   `OPENAI_API_KEY`: OpenAI api key

**Frontend (`frontend/.env`):**

*   `REACT_APP_AUTH0_DOMAIN`: Your Auth0 domain.
*   `REACT_APP_AUTH0_CLIENT_ID`: Your Auth0 client ID.
*    `REACT_APP_AUTH0_AUDIENCE`: Your Auth0 API audience.
*   `REACT_APP_API_URL`: The URL of your FastAPI backend (e.g., `http://localhost:8000`).

## Project Structure

```
├── Backend/
│   ├── main.py             # Main FastAPI application entry point
│   ├── ticket_agent.py     # Contains the ticket routing chatbot logic
│   ├── Auth/
│   │   └── auth.py         # Authentication middleware and role checking
│   ├── Database/
│   │   ├── config/
│   │   │   └── database.py # MongoDB database configuration
│   │   ├── models/
│   │   │   └── model.py    # Pydantic data models
│   │   ├── routes/
│   │   │   └── route.py    # API routes for ticket management
│   │   └── schema/
│   │       └── schemas.py  # Data serialization schemas
├── frontend/
│   ├── postcss.config.js
│   ├── tailwind.config.js
│   ├── src/
│   │   ├── api.js              # Functions for fetching tickets
│   │   ├── App.js              # Main React application component
│   │   ├── index.js            # React entry point
│   │   ├── reportWebVitals.js  # Reports web vitals for performance monitoring
│   │   ├── setupTests.js       # React testing configuration
│   │   ├── ticketDetails.js    # Displays detailed ticket information
│   │   ├── Tickets.js          # Renders a list of tickets
│   │   ├── Auth/
│   │   │   ├── authWrapper.js  # Handles API calls with authentication
│   │   │   ├── config.js       # Auth0 configuration settings
│   │   │   ├── Login.js        # Login page
│   │   │   ├── roleBasedRedirect.js # Redirects users based on their roles after login
│   │   │   ├── roleRequirer.js   # Implements role-based access control
│   │   │   └── API/
│   │   │       └── useApi.js     # Hook for making authenticated API calls
```

## Technologies Used

<p align="center">
  <a href="https://shields.io/badge/Python-3.9+-blue.svg?style=flat-square"><img src="https://shields.io/badge/Python-3.9+-blue.svg?style=flat-square" alt="Python Version"></a>
  <a href="https://shields.io/badge/FastAPI-0.70+-blueviolet?style=flat-square"><img src="https://shields.io/badge/FastAPI-0.70+-blueviolet?style=flat-square" alt="FastAPI Version"></a>
  <a href="https://shields.io/badge/MongoDB-4.4+-green?style=flat-square"><img src="https://shields.io/badge/MongoDB-4.4+-green?style=flat-square" alt="MongoDB Version"></a>
  <a href="https://shields.io/badge/LangChain-0.0.148+-orange?style=flat-square"><img src="https://shields.io/badge/LangChain-0.0.148+-orange?style=flat-square" alt="LangChain Version"></a>
  <a href="https://shields.io/badge/React-17.0+-blue.svg?style=flat-square"><img src="https://shields.io/badge/React-17.0+-blue.svg?style=flat-square" alt="React Version"></a>
  <a href="https://shields.io/badge/Tailwind_CSS-2.0+-blue?style=flat-square"><img src="https://shields.io/badge/Tailwind_CSS-2.0+-blue?style=flat-square" alt="Tailwind CSS Version"></a>
  <a href="https://shields.io/badge/Auth0-v3+-blue?style=flat-square"><img src="https://shields.io/badge/Auth0-v3+-blue?style=flat-square" alt="Auth0 Version"></a>
</p>

*   **Backend:** FastAPI, Python, MongoDB, Pydantic, Langchain
*   **Frontend:** React, Auth0 React SDK, Axios, Tailwind CSS
*   **Authentication:** Auth0

## Contribution Guide

1.  Fork the repository.
2.  Create a new branch for your feature or bug fix.
3.  Make your changes and commit them with descriptive commit messages.
4.  Submit a pull request to the `main` branch.

Please follow these guidelines when contributing:

*   Write clear and concise code.
*   Add comments to explain complex logic.
*   Test your changes thoroughly.

## Support & Contact

For any issues or questions, please open an issue on GitHub.

## License

MIT License.

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)