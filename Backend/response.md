# <p align="center">Ticket Triage and Management System</p>

<p align="center">
  <a href="https://www.fastapi.tiangolo.com/"><img src="https://img.shields.io/badge/Framework-FastAPI-0077B6" alt="FastAPI"></a>
  <a href="https://www.python.org/"><img src="https://img.shields.io/badge/Language-Python-3776AB" alt="Python"></a>
  <a href="https://www.mongodb.com/"><img src="https://img.shields.io/badge/Database-MongoDB-47A248" alt="MongoDB"></a>
  <a href="https://js.langchain.com/"><img src="https://img.shields.io/badge/LLM_Framework-LangChain-blueviolet" alt="LangChain"></a>
  <a href="https://react.dev/"><img src="https://img.shields.io/badge/Frontend-React-61DAFB" alt="React"></a>
  <a href="https://tailwindcss.com/"><img src="https://img.shields.io/badge/Styling-Tailwind_CSS-06B6D4" alt="Tailwind CSS"></a>
  <a href="https://auth0.com/"><img src="https://img.shields.io/badge/Authentication-Auth0-E22300" alt="Auth0"></a>
</p>

## Introduction

This project is a full-stack ticket triage and management system designed for internal support and issue tracking. It enables users to submit tickets, automatically triages them using an LLM-powered agent, and allows administrators to manage the tickets.  It utilizes a React frontend with a FastAPI backend.

## Table of Contents

1.  [Key Features](#key-features)
2.  [Installation Guide](#installation-guide)
3.  [Usage](#usage)
4.  [Environment Variables](#environment-variables)
5.  [Project Structure](#project-structure)
6.  [Technologies Used](#technologies-used)
7.  [Contribution Guide](#contribution-guide)
8.  [Support & Contact](#support--contact)
9.  [License](#license)

## Key Features

*   **Ticket Submission:** Users can easily submit tickets describing their issues through a user-friendly React interface.
*   **Automated Triage:**  An LLM-powered agent (using LangChain) automatically classifies and routes tickets to the appropriate development team (React, Java, Python, SQL).
*   **Role-Based Access Control (RBAC):** Implemented using Auth0, ensuring secure access to different parts of the application based on user roles (admin, user).
*   **Detailed Ticket View:** Administrators can view comprehensive ticket details, including summaries, technical analysis, suggested approaches, and additional notes generated by the LLM agent.
*   **Secure Authentication:**  Leverages Auth0 for robust authentication and authorization using JWTs.
*   **API Driven:**  FastAPI backend provides a well-defined API for frontend interaction.

## Installation Guide

1.  **Clone the repository:**

    ```bash
    git clone <repository_url>
    cd <project_directory>
    ```

2.  **Backend Setup (FastAPI):**

    ```bash
    cd Backend
    python -m venv venv
    venv\Scripts\activate  # On Windows
    source venv/bin/activate # On Linux/macOS
    pip install -r requirements.txt
    ```

    Create a `.env` file in the `Backend` directory and populate it with the necessary environment variables (see [Environment Variables](#environment-variables) section).

    Run the FastAPI server:

    ```bash
    uvicorn main:app --reload
    ```

3.  **Frontend Setup (React):**

    ```bash
    cd ../frontend
    npm install
    ```

    Create a `.env` file in the `frontend` directory and populate it with the necessary environment variables (see [Environment Variables](#environment-variables) section).

    Run the React development server:

    ```bash
    npm start
    ```

## Usage

*   **Frontend:** Access the application through your web browser at the address provided by the React development server (usually `http://localhost:3000`).
*   **Authentication:** Use the login button, which redirects to Auth0 for authentication.  After successful login, you will be redirected back to the application with appropriate roles.
*   **Ticket Submission:**  Submit tickets via the provided form on the home page.
*   **Ticket Management (Admin):** Administrators can view all tickets and close them through the admin interface.
*   **API Endpoints:** The backend provides API endpoints for creating, retrieving, and updating tickets. See the specific route files for details.

## Environment Variables

**Backend (.env in Backend directory):**

*   `AUTH0_DOMAIN`: Your Auth0 domain.
*   `AUTH0_CLIENT_ID`: Your Auth0 client ID.
*   `AUTH0_CLIENT_SECRET`: Your Auth0 client secret.
*   `AUTH0_AUDIENCE`: Your Auth0 API audience.
*   `MONGODB_URI`: Your MongoDB connection string.
*   `OPENAI_API_KEY`: Your OpenAI API key.

**Frontend (.env in frontend directory):**

*   `REACT_APP_AUTH0_DOMAIN`: Your Auth0 domain.
*   `REACT_APP_AUTH0_CLIENT_ID`: Your Auth0 client ID.
*   `REACT_APP_AUTH0_AUDIENCE`: Your Auth0 API audience.
*   `REACT_APP_API_URL`: URL of the backend API (e.g., `http://localhost:8000`).

## Project Structure

```
├── Backend/
│   ├── main.py              # FastAPI application entry point
│   ├── ticket_agent.py      # LLM-powered ticket triage agent
│   ├── Auth/
│   │   └── auth.py          # Authentication and authorization logic
│   ├── Database/
│   │   ├── config/
│   │   │   └── database.py  # MongoDB database configuration
│   │   ├── models/
│   │   │   └── model.py     # MongoDB data models
│   │   ├── routes/
│   │   │   └── route.py     # API routes for ticket management
│   │   └── schema/
│   │       └── schemas.py   # Pydantic schemas for data validation
│   └── ...
├── frontend/
│   ├── postcss.config.js    # PostCSS configuration
│   ├── tailwind.config.js   # Tailwind CSS configuration
│   ├── src/
│   │   ├── api.js           # API client using Axios
│   │   ├── App.js           # Main React application component
│   │   ├── index.js         # React application entry point
│   │   ├── reportWebVitals.js # Performance reporting
│   │   ├── setupTests.js    # Test setup
│   │   ├── ticketDetails.js # Component for displaying ticket details
│   │   ├── Tickets.js       # Component for listing tickets
│   │   ├── Auth/
│   │   │   ├── authWrapper.js  # Authentication wrapper for routes
│   │   │   ├── config.js      # Auth0 configuration
│   │   │   ├── Login.js       # Login component
│   │   │   ├── roleBasedRedirect.js # Redirect based on user roles
│   │   │   ├── roleRequirer.js # Component to require specific roles
│   │   │   └── API/
│   │   │       └── useApi.js # Custom hook for authenticated API calls
│   │   └── ...
└── ...
```

## Technologies Used

<p align="center">
  <a href="https://www.fastapi.tiangolo.com/"><img src="https://img.shields.io/badge/Backend-FastAPI-0077B6" alt="FastAPI"></a>
  <a href="https://www.python.org/"><img src="https://img.shields.io/badge/Language-Python-3776AB" alt="Python"></a>
  <a href="https://www.mongodb.com/"><img src="https://img.shields.io/badge/Database-MongoDB-47A248" alt="MongoDB"></a>
    <a href="https://js.langchain.com/"><img src="https://img.shields.io/badge/LLM_Framework-LangChain-blueviolet" alt="LangChain"></a>
  <a href="https://react.dev/"><img src="https://img.shields.io/badge/Frontend-React-61DAFB" alt="React"></a>
  <a href="https://tailwindcss.com/"><img src="https://img.shields.io/badge/Styling-Tailwind_CSS-06B6D4" alt="Tailwind CSS"></a>
  <a href="https://auth0.com/"><img src="https://img.shields.io/badge/Authentication-Auth0-E22300" alt="Auth0"></a>
</p>

*   **Backend:** FastAPI (Python), Pydantic, Langchain, MongoDB
*   **Frontend:** React, Auth0 React SDK, Axios, React Router, Tailwind CSS
*   **Authentication:** Auth0

## Contribution Guide

1.  Fork the repository.
2.  Create a new branch for your feature or bug fix.
3.  Make your changes and write tests.
4.  Ensure all tests pass.
5.  Submit a pull request with a clear description of your changes.

## Support & Contact

For any issues or questions, please open an issue on GitHub.

## License

MIT License

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)